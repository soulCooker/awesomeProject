# 模板方法

定义：
抽象出一个算法的模板，算法由固定的步骤组成，模板定义了公共步骤的实现，某些子步骤定义成抽象方法，交由具体的子类去实现。

注意点：
关键点，将不同算法抽象成统一的步骤，需要控制步骤粒度。
对于可选的步骤，可以通过hook方法提供空或者默认实现，降低子类的实现负担。

是否必须使用继承来复用模板方法的公共步骤和模板方法，可以使用组合吗？
将抽象方法抽象到接口中，模板方法类组合该接口的实现。缺点：子类和模板方法类被隔离开，子类无法使用模板方法类的实现了。

扩展-好莱坞原则：
    由上层实现调用底层实现。底层实现不要调用上层实现，而是将自己挂载到上层实现中。在模板方法中，使用的是模板方法所在的基类，基类的模板方法会调用被子类复写的步骤实现。子类虽然依赖了基类的公共步骤，但是其调用入口放在基类的模板方案中。

与策略模式对比：
策略模式是将算法族的抽象成一组接口，子类实现接口提供不同的算法实现。应用类组合该算法接口，两者是调用和被调用的关系。
